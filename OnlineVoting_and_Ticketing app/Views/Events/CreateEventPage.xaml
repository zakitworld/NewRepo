<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="OnlineVoting_and_Ticketing_app.Views.Events.CreateEventPage"
             Title="Create Event"
             BackgroundColor="{AppThemeBinding Light={StaticResource Gray100}, Dark={StaticResource Gray950}}">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">

            <Label
                Text="Create New Event"
                FontSize="28"
                FontAttributes="Bold"
                TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}"
                Margin="0,10,0,0" />

            <Label
                Text="Fill in the details below to create your event"
                FontSize="14"
                TextColor="{AppThemeBinding Light={StaticResource Gray600}, Dark={StaticResource Gray400}}"
                Margin="0,0,0,10" />

            <!-- Event Image -->
            <VerticalStackLayout Spacing="10">
                <Label
                    Text="Event Image"
                    FontSize="16"
                    FontAttributes="Bold"
                    TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}" />

                <Border
                    StrokeShape="RoundRectangle 15"
                    StrokeThickness="2"
                    Stroke="{AppThemeBinding Light={StaticResource Gray300}, Dark={StaticResource Gray700}}"
                    BackgroundColor="{AppThemeBinding Light={StaticResource Gray100}, Dark={StaticResource Gray800}}"
                    HeightRequest="200">
                    <Grid>
                        <Image
                            x:Name="EventImagePreview"
                            Aspect="AspectFill"
                            IsVisible="False" />
                        <VerticalStackLayout
                            x:Name="ImagePlaceholder"
                            VerticalOptions="Center"
                            HorizontalOptions="Center"
                            Spacing="10">
                            <Label
                                Text="ðŸ“·"
                                FontSize="50"
                                HorizontalOptions="Center" />
                            <Label
                                Text="Tap to add event image"
                                FontSize="14"
                                TextColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource Gray500}}"
                                HorizontalOptions="Center" />
                        </VerticalStackLayout>
                    </Grid>
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnSelectImageTapped" />
                    </Border.GestureRecognizers>
                </Border>

                <Entry
                    x:Name="ImageUrlEntry"
                    Placeholder="Or paste image URL here"
                    TextChanged="OnImageUrlChanged"
                    TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}"
                    PlaceholderColor="{AppThemeBinding Light={StaticResource Gray400}, Dark={StaticResource Gray600}}" />
            </VerticalStackLayout>

            <!-- Event Title -->
            <VerticalStackLayout Spacing="8">
                <Label
                    Text="Event Title *"
                    FontSize="16"
                    FontAttributes="Bold"
                    TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}" />
                <Border
                    Stroke="{AppThemeBinding Light={StaticResource Gray300}, Dark={StaticResource Gray700}}"
                    StrokeThickness="1"
                    StrokeShape="RoundRectangle 10"
                    BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Gray900}}"
                    Padding="15,10">
                    <Entry
                        x:Name="TitleEntry"
                        Placeholder="Enter event title"
                        TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}"
                        PlaceholderColor="{AppThemeBinding Light={StaticResource Gray400}, Dark={StaticResource Gray600}}" />
                </Border>
            </VerticalStackLayout>

            <!-- Event Description -->
            <VerticalStackLayout Spacing="8">
                <Label
                    Text="Description *"
                    FontSize="16"
                    FontAttributes="Bold"
                    TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}" />
                <Border
                    Stroke="{AppThemeBinding Light={StaticResource Gray300}, Dark={StaticResource Gray700}}"
                    StrokeThickness="1"
                    StrokeShape="RoundRectangle 10"
                    BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Gray900}}"
                    Padding="15,10">
                    <Editor
                        x:Name="DescriptionEditor"
                        Placeholder="Describe your event"
                        HeightRequest="120"
                        AutoSize="TextChanges"
                        TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}"
                        PlaceholderColor="{AppThemeBinding Light={StaticResource Gray400}, Dark={StaticResource Gray600}}" />
                </Border>
            </VerticalStackLayout>

            <!-- Location -->
            <VerticalStackLayout Spacing="8">
                <Label
                    Text="Location *"
                    FontSize="16"
                    FontAttributes="Bold"
                    TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}" />
                <Border
                    Stroke="{AppThemeBinding Light={StaticResource Gray300}, Dark={StaticResource Gray700}}"
                    StrokeThickness="1"
                    StrokeShape="RoundRectangle 10"
                    BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Gray900}}"
                    Padding="15,10">
                    <Entry
                        x:Name="LocationEntry"
                        Placeholder="Event venue or address"
                        TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}"
                        PlaceholderColor="{AppThemeBinding Light={StaticResource Gray400}, Dark={StaticResource Gray600}}" />
                </Border>
            </VerticalStackLayout>

            <!-- Start Date & Time -->
            <VerticalStackLayout Spacing="8">
                <Label
                    Text="Start Date &amp; Time *"
                    FontSize="16"
                    FontAttributes="Bold"
                    TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}" />
                <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                    <Border
                        Grid.Column="0"
                        Stroke="{AppThemeBinding Light={StaticResource Gray300}, Dark={StaticResource Gray700}}"
                        StrokeThickness="1"
                        StrokeShape="RoundRectangle 10"
                        BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Gray900}}"
                        Padding="15,10">
                        <DatePicker
                            x:Name="StartDatePicker"
                            TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}"
                            Format="MMM dd, yyyy" />
                    </Border>
                    <Border
                        Grid.Column="1"
                        Stroke="{AppThemeBinding Light={StaticResource Gray300}, Dark={StaticResource Gray700}}"
                        StrokeThickness="1"
                        StrokeShape="RoundRectangle 10"
                        BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Gray900}}"
                        Padding="15,10">
                        <TimePicker
                            x:Name="StartTimePicker"
                            TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}"
                            Format="h:mm tt" />
                    </Border>
                </Grid>
            </VerticalStackLayout>

            <!-- End Date & Time -->
            <VerticalStackLayout Spacing="8">
                <Label
                    Text="End Date &amp; Time *"
                    FontSize="16"
                    FontAttributes="Bold"
                    TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}" />
                <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                    <Border
                        Grid.Column="0"
                        Stroke="{AppThemeBinding Light={StaticResource Gray300}, Dark={StaticResource Gray700}}"
                        StrokeThickness="1"
                        StrokeShape="RoundRectangle 10"
                        BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Gray900}}"
                        Padding="15,10">
                        <DatePicker
                            x:Name="EndDatePicker"
                            TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}"
                            Format="MMM dd, yyyy" />
                    </Border>
                    <Border
                        Grid.Column="1"
                        Stroke="{AppThemeBinding Light={StaticResource Gray300}, Dark={StaticResource Gray700}}"
                        StrokeThickness="1"
                        StrokeShape="RoundRectangle 10"
                        BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Gray900}}"
                        Padding="15,10">
                        <TimePicker
                            x:Name="EndTimePicker"
                            TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}"
                            Format="h:mm tt" />
                    </Border>
                </Grid>
            </VerticalStackLayout>

            <!-- Category -->
            <VerticalStackLayout Spacing="8">
                <Label
                    Text="Category *"
                    FontSize="16"
                    FontAttributes="Bold"
                    TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}" />
                <Border
                    Stroke="{AppThemeBinding Light={StaticResource Gray300}, Dark={StaticResource Gray700}}"
                    StrokeThickness="1"
                    StrokeShape="RoundRectangle 10"
                    BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Gray900}}"
                    Padding="15,10">
                    <Picker
                        x:Name="CategoryPicker"
                        Title="Select category"
                        TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}"
                        TitleColor="{AppThemeBinding Light={StaticResource Gray400}, Dark={StaticResource Gray600}}">
                        <Picker.ItemsSource>
                            <x:Array Type="{x:Type x:String}">
                                <x:String>Music</x:String>
                                <x:String>Sports</x:String>
                                <x:String>Conference</x:String>
                                <x:String>Workshop</x:String>
                                <x:String>Exhibition</x:String>
                                <x:String>Festival</x:String>
                                <x:String>Theater</x:String>
                                <x:String>Comedy</x:String>
                                <x:String>Other</x:String>
                            </x:Array>
                        </Picker.ItemsSource>
                    </Picker>
                </Border>
            </VerticalStackLayout>

            <!-- Event Type -->
            <VerticalStackLayout Spacing="8">
                <Label
                    Text="Event Type *"
                    FontSize="16"
                    FontAttributes="Bold"
                    TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}" />
                <Border
                    Stroke="{AppThemeBinding Light={StaticResource Gray300}, Dark={StaticResource Gray700}}"
                    StrokeThickness="1"
                    StrokeShape="RoundRectangle 10"
                    BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Gray900}}"
                    Padding="15,10">
                    <Picker
                        x:Name="EventTypePicker"
                        Title="Select event type"
                        TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}"
                        TitleColor="{AppThemeBinding Light={StaticResource Gray400}, Dark={StaticResource Gray600}}">
                        <Picker.ItemsSource>
                            <x:Array Type="{x:Type x:String}">
                                <x:String>InPerson</x:String>
                                <x:String>Virtual</x:String>
                                <x:String>Hybrid</x:String>
                            </x:Array>
                        </Picker.ItemsSource>
                    </Picker>
                </Border>
            </VerticalStackLayout>

            <!-- Ticket Types Section -->
            <VerticalStackLayout Spacing="15">
                <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                    <Label
                        Text="Ticket Types"
                        FontSize="16"
                        FontAttributes="Bold"
                        TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}"
                        VerticalOptions="Center" />
                    <Border
                        StrokeShape="RoundRectangle 15"
                        StrokeThickness="0"
                        BackgroundColor="{StaticResource Primary}"
                        Padding="8,4">
                        <Label
                            Text="Required"
                            FontSize="10"
                            TextColor="White"
                            FontAttributes="Bold" />
                    </Border>
                </HorizontalStackLayout>

                <VerticalStackLayout
                    x:Name="TicketTypesContainer"
                    Spacing="15" />

                <Button
                    Text="+ Add Ticket Type"
                    Clicked="OnAddTicketTypeClicked"
                    BackgroundColor="Transparent"
                    TextColor="{StaticResource Primary}"
                    BorderColor="{StaticResource Primary}"
                    BorderWidth="2"
                    CornerRadius="10"
                    HeightRequest="50" />
            </VerticalStackLayout>

            <!-- Error Message -->
            <Label
                x:Name="ErrorLabel"
                TextColor="Red"
                FontSize="14"
                IsVisible="False"
                HorizontalTextAlignment="Center"
                Margin="0,10,0,0" />

            <!-- Action Buttons -->
            <Grid ColumnDefinitions="*,*" ColumnSpacing="10" Margin="0,10,0,20">
                <Button
                    Grid.Column="0"
                    Text="Cancel"
                    Clicked="OnCancelClicked"
                    BackgroundColor="Transparent"
                    TextColor="{AppThemeBinding Light={StaticResource Gray600}, Dark={StaticResource Gray400}}"
                    BorderColor="{AppThemeBinding Light={StaticResource Gray300}, Dark={StaticResource Gray700}}"
                    BorderWidth="1"
                    CornerRadius="10"
                    HeightRequest="50" />

                <Button
                    Grid.Column="1"
                    x:Name="CreateButton"
                    Text="Create Event"
                    Clicked="OnCreateEventClicked"
                    BackgroundColor="{StaticResource Primary}"
                    TextColor="White"
                    CornerRadius="10"
                    HeightRequest="50" />
            </Grid>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
