<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="OnlineVoting_and_Ticketing_app.Views.Profile.ProfilePage"
             Title="Profile"
             BackgroundColor="{StaticResource Background}">

    <Grid>
        <!-- Background Glow -->
        <Ellipse WidthRequest="400" HeightRequest="400" Fill="{StaticResource Primary}" Opacity="0.05" 
                 VerticalOptions="End" HorizontalOptions="End" Margin="0,0,-150,-150"/>

        <ScrollView>
            <VerticalStackLayout Padding="25" Spacing="30">

                <!-- Profile Header -->
                <VerticalStackLayout Spacing="15" HorizontalOptions="Center" Margin="0,20,0,10">
                    <Border StrokeShape="RoundRectangle 60" StrokeThickness="2" Stroke="{StaticResource Primary}"
                            WidthRequest="120" HeightRequest="120" BackgroundColor="{StaticResource Surface}">
                        <Label Text="ðŸ‘¤" FontSize="60" HorizontalOptions="Center" VerticalOptions="Center" />
                    </Border>

                    <VerticalStackLayout Spacing="5" HorizontalOptions="Center">
                        <Label x:Name="UserNameLabel" Text="Guest User" Style="{StaticResource Headline}" HorizontalOptions="Center" TextColor="{StaticResource White}"/>
                        <Label x:Name="UserEmailLabel" Text="guest@eventhub.com" TextColor="{StaticResource TextSecondary}" HorizontalOptions="Center" FontSize="14"/>
                    </VerticalStackLayout>
                </VerticalStackLayout>

                <!-- Stats Grid -->
                <Grid ColumnDefinitions="*,*,*" ColumnSpacing="15">
                    <!-- Events -->
                    <Border Grid.Column="0" Style="{StaticResource Border}" Padding="15">
                        <VerticalStackLayout Spacing="5">
                            <Label x:Name="EventsCountLabel" Text="0" Style="{StaticResource Headline}" FontSize="20" HorizontalOptions="Center" TextColor="{StaticResource Primary}"/>
                            <Label Text="Events" FontSize="11" TextColor="{StaticResource TextSecondary}" HorizontalOptions="Center" FontAttributes="Bold"/>
                        </VerticalStackLayout>
                    </Border>

                    <!-- Tickets -->
                    <Border Grid.Column="1" Style="{StaticResource Border}" Padding="15">
                        <VerticalStackLayout Spacing="5">
                            <Label x:Name="TicketsCountLabel" Text="0" Style="{StaticResource Headline}" FontSize="20" HorizontalOptions="Center" TextColor="{StaticResource Primary}"/>
                            <Label Text="Tickets" FontSize="11" TextColor="{StaticResource TextSecondary}" HorizontalOptions="Center" FontAttributes="Bold"/>
                        </VerticalStackLayout>
                    </Border>

                    <!-- Votes -->
                    <Border Grid.Column="2" Style="{StaticResource Border}" Padding="15">
                        <VerticalStackLayout Spacing="5">
                            <Label x:Name="VotesCountLabel" Text="0" Style="{StaticResource Headline}" FontSize="20" HorizontalOptions="Center" TextColor="{StaticResource Primary}"/>
                            <Label Text="Votes" FontSize="11" TextColor="{StaticResource TextSecondary}" HorizontalOptions="Center" FontAttributes="Bold"/>
                        </VerticalStackLayout>
                    </Border>
                </Grid>

                <!-- Menu Selection -->
                <VerticalStackLayout Spacing="12">
                    <Label Text="Account Settings" TextColor="{StaticResource TextSecondary}" FontSize="12" FontAttributes="Bold" Margin="0,0,0,5"/>

                    <Border Style="{StaticResource Border}" Padding="15">
                        <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="15">
                            <Label Text="ðŸ‘¤" FontSize="20" VerticalOptions="Center"/>
                            <Label Grid.Column="1" Text="Edit Profile" TextColor="{StaticResource White}" FontSize="15" VerticalOptions="Center"/>
                            <Label Grid.Column="2" Text="â†’" TextColor="{StaticResource TextSecondary}" VerticalOptions="Center"/>
                        </Grid>
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnEditProfileTapped" />
                        </Border.GestureRecognizers>
                    </Border>

                    <Border Style="{StaticResource Border}" Padding="15">
                        <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="15">
                            <Label Text="ðŸŽ«" FontSize="20" VerticalOptions="Center"/>
                            <Label Grid.Column="1" Text="My Tickets" TextColor="{StaticResource White}" FontSize="15" VerticalOptions="Center"/>
                            <Label Grid.Column="2" Text="â†’" TextColor="{StaticResource TextSecondary}" VerticalOptions="Center"/>
                        </Grid>
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnMyTicketsTapped" />
                        </Border.GestureRecognizers>
                    </Border>

                    <Border Style="{StaticResource Border}" Padding="15">
                        <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="15">
                            <Label Text="ðŸ“…" FontSize="20" VerticalOptions="Center"/>
                            <Label Grid.Column="1" Text="My Events" TextColor="{StaticResource White}" FontSize="15" VerticalOptions="Center"/>
                            <Label Grid.Column="2" Text="â†’" TextColor="{StaticResource TextSecondary}" VerticalOptions="Center"/>
                        </Grid>
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnMyEventsTapped" />
                        </Border.GestureRecognizers>
                    </Border>

                    <Border Style="{StaticResource Border}" Padding="15">
                        <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="15">
                            <Label Text="âš™ï¸" FontSize="20" VerticalOptions="Center"/>
                            <Label Grid.Column="1" Text="Appearance &amp; Preferences" TextColor="{StaticResource White}" FontSize="15" VerticalOptions="Center"/>
                            <Label Grid.Column="2" Text="â†’" TextColor="{StaticResource TextSecondary}" VerticalOptions="Center"/>
                        </Grid>
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnSettingsTapped" />
                        </Border.GestureRecognizers>
                    </Border>
                </VerticalStackLayout>

                <!-- Danger Zone -->
                <Button x:Name="LogoutButton" Text="Disconnect Account" Style="{StaticResource Button}" BackgroundColor="#15EF4444" TextColor="#EF4444" BorderColor="#40EF4444" BorderWidth="1" Margin="0,10,0,10" Clicked="OnLogoutClicked" />

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>
