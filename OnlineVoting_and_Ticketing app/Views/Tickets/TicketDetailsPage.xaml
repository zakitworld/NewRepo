<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="OnlineVoting_and_Ticketing_app.Views.Tickets.TicketDetailsPage"
             Title="Ticket Details"
             BackgroundColor="{StaticResource Background}">

    <ScrollView>
        <VerticalStackLayout Padding="25" Spacing="30">

            <!-- Cinematic Header -->
            <VerticalStackLayout Spacing="10" Margin="0,10,0,0">
                <Label x:Name="EventTitleLabel" Text="Event Title" Style="{StaticResource Headline}" HorizontalOptions="Center" HorizontalTextAlignment="Center" TextColor="{StaticResource White}"/>
                <HorizontalStackLayout Spacing="8" HorizontalOptions="Center">
                    <Label Text="ðŸŽ«" FontSize="14" VerticalOptions="Center"/>
                    <Label x:Name="TicketTypeLabel" Text="General Admission" FontSize="14" TextColor="{StaticResource Primary}" FontAttributes="Bold"/>
                </HorizontalStackLayout>
            </VerticalStackLayout>

            <!-- Major Ticket Glass Container -->
            <Border Style="{StaticResource Border}" Padding="0" Margin="0,10">
                <VerticalStackLayout>
                    <!-- QR Section -->
                    <Border BackgroundColor="{StaticResource Surface}" StrokeThickness="0" Padding="30" StrokeShape="RoundRectangle 20,20,0,0">
                        <VerticalStackLayout Spacing="20">
                            <Border StrokeShape="RoundRectangle 20" StrokeThickness="4" Stroke="{StaticResource Background}" 
                                    Padding="25" HorizontalOptions="Center" BackgroundColor="White" WidthRequest="250" HeightRequest="250">
                                <Image x:Name="QRCodeImage" Aspect="AspectFit" />
                            </Border>
                            <Label Text="SCAN AT ENTRANCE" FontSize="11" FontAttributes="Bold" CharacterSpacing="2" 
                                   TextColor="{StaticResource TextSecondary}" HorizontalOptions="Center"/>
                        </VerticalStackLayout>
                    </Border>

                    <!-- Details Section -->
                    <VerticalStackLayout Padding="25" Spacing="25">
                        <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto" RowSpacing="25">
                            <!-- Holder -->
                            <VerticalStackLayout Grid.Column="0" Spacing="5">
                                <Label Text="PASSHOLDER" FontSize="10" FontAttributes="Bold" TextColor="{StaticResource TextSecondary}" CharacterSpacing="1"/>
                                <Label x:Name="TicketHolderLabel" FontSize="16" FontAttributes="Bold" TextColor="{StaticResource White}"/>
                            </VerticalStackLayout>

                            <!-- Price -->
                            <VerticalStackLayout Grid.Column="1" Spacing="5" HorizontalOptions="End">
                                <Label Text="TOTAL PAID" FontSize="10" FontAttributes="Bold" TextColor="{StaticResource TextSecondary}" CharacterSpacing="1"/>
                                <Label x:Name="PriceLabel" FontSize="16" FontAttributes="Bold" TextColor="{StaticResource White}"/>
                            </VerticalStackLayout>

                            <!-- Date -->
                            <VerticalStackLayout Grid.Row="1" Grid.Column="0" Spacing="5">
                                <Label Text="ISSUE DATE" FontSize="10" FontAttributes="Bold" TextColor="{StaticResource TextSecondary}" CharacterSpacing="1"/>
                                <Label x:Name="PurchaseDateLabel" FontSize="14" TextColor="{StaticResource White}"/>
                            </VerticalStackLayout>

                            <!-- Status -->
                            <VerticalStackLayout Grid.Row="1" Grid.Column="1" Spacing="5" HorizontalOptions="End">
                                <Label Text="VALUATION" FontSize="10" FontAttributes="Bold" TextColor="{StaticResource TextSecondary}" CharacterSpacing="1"/>
                                <Border x:Name="StatusBorder" StrokeShape="RoundRectangle 6" Padding="10,4">
                                    <Label x:Name="StatusLabel" TextColor="White" FontSize="11" FontAttributes="Bold" />
                                </Border>
                            </VerticalStackLayout>
                        </Grid>

                        <!-- ID -->
                        <VerticalStackLayout Spacing="5">
                            <Label Text="TRANSACTION ID" FontSize="10" FontAttributes="Bold" TextColor="{StaticResource TextSecondary}" CharacterSpacing="1"/>
                            <Label x:Name="TicketIdLabel" FontSize="12" TextColor="{StaticResource TextSecondary}" Opacity="0.5" FontFamily="Courier"/>
                        </VerticalStackLayout>
                    </VerticalStackLayout>

                    <!-- Check-in Glow (if used) -->
                    <Border x:Name="CheckInBorder" IsVisible="False" StrokeShape="RoundRectangle 0,0,20,20" StrokeThickness="0" 
                            BackgroundColor="#1010B981" Padding="25,15">
                        <HorizontalStackLayout Spacing="10" HorizontalOptions="Center">
                            <Label Text="âœ“" TextColor="#10B981" FontSize="18" FontAttributes="Bold"/>
                            <VerticalStackLayout VerticalOptions="Center">
                                <Label Text="VERIFIED ENTRY" FontSize="12" FontAttributes="Bold" TextColor="#10B981" CharacterSpacing="1"/>
                                <Label x:Name="CheckInDateLabel" FontSize="11" TextColor="#10B981" Opacity="0.8"/>
                            </VerticalStackLayout>
                        </HorizontalStackLayout>
                    </Border>
                </VerticalStackLayout>
            </Border>

            <!-- Action Tier -->
            <VerticalStackLayout Spacing="12">
                <Button x:Name="DownloadButton" Text="Download to Wallet" Style="{StaticResource Button}" Clicked="OnDownloadTicketClicked" />
                <Button x:Name="ShareButton" Text="Transfer Ticket" Style="{StaticResource Button}" BackgroundColor="Transparent" 
                        TextColor="{StaticResource Secondary}" BorderColor="{StaticResource Secondary}" BorderWidth="1" Clicked="OnShareTicketClicked" />
            </VerticalStackLayout>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
